<UserControl x:Class="DesktopMusicPlayer.Components.EqualizerIcon"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="16" Height="16">
    
    <UserControl.Resources>
        <!-- Animation durations vary for randomness effect -->
        <Storyboard x:Key="EqualizerAnimation" RepeatBehavior="Forever">
            <!-- Bar 1 Animation -->
            <DoubleAnimation Storyboard.TargetName="Bar1Transform"
                             Storyboard.TargetProperty="ScaleY"
                             From="0.3" To="1" Duration="0:0:0.3"
                             AutoReverse="True"/>
            
            <!-- Bar 2 Animation (offset timing) -->
            <DoubleAnimation Storyboard.TargetName="Bar2Transform"
                             Storyboard.TargetProperty="ScaleY"
                             From="0.6" To="0.4" Duration="0:0:0.25"
                             AutoReverse="True"
                             BeginTime="0:0:0.1"/>
            
            <!-- Bar 3 Animation (different pattern) -->
            <DoubleAnimation Storyboard.TargetName="Bar3Transform"
                             Storyboard.TargetProperty="ScaleY"
                             From="0.4" To="0.9" Duration="0:0:0.35"
                             AutoReverse="True"
                             BeginTime="0:0:0.05"/>
            
            <!-- Bar 4 Animation -->
            <DoubleAnimation Storyboard.TargetName="Bar4Transform"
                             Storyboard.TargetProperty="ScaleY"
                             From="0.8" To="0.3" Duration="0:0:0.28"
                             AutoReverse="True"
                             BeginTime="0:0:0.15"/>
        </Storyboard>
    </UserControl.Resources>
    
    <UserControl.Triggers>
        <EventTrigger RoutedEvent="Loaded">
            <BeginStoryboard Storyboard="{StaticResource EqualizerAnimation}"/>
        </EventTrigger>
    </UserControl.Triggers>
    
    <!-- 4 Bars using Grid with bottom alignment -->
    <Grid>
        <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Center">
            <Rectangle x:Name="Bar1" Width="2" Height="14" Fill="#87CEEB" Margin="0,0,1,0"
                       RadiusX="0.5" RadiusY="0.5" RenderTransformOrigin="0.5,1">
                <Rectangle.RenderTransform>
                    <ScaleTransform x:Name="Bar1Transform" ScaleY="0.5"/>
                </Rectangle.RenderTransform>
            </Rectangle>
            
            <Rectangle x:Name="Bar2" Width="2" Height="14" Fill="#87CEEB" Margin="0,0,1,0"
                       RadiusX="0.5" RadiusY="0.5" RenderTransformOrigin="0.5,1">
                <Rectangle.RenderTransform>
                    <ScaleTransform x:Name="Bar2Transform" ScaleY="0.7"/>
                </Rectangle.RenderTransform>
            </Rectangle>
            
            <Rectangle x:Name="Bar3" Width="2" Height="14" Fill="#87CEEB" Margin="0,0,1,0"
                       RadiusX="0.5" RadiusY="0.5" RenderTransformOrigin="0.5,1">
                <Rectangle.RenderTransform>
                    <ScaleTransform x:Name="Bar3Transform" ScaleY="0.4"/>
                </Rectangle.RenderTransform>
            </Rectangle>
            
            <Rectangle x:Name="Bar4" Width="2" Height="14" Fill="#87CEEB"
                       RadiusX="0.5" RadiusY="0.5" RenderTransformOrigin="0.5,1">
                <Rectangle.RenderTransform>
                    <ScaleTransform x:Name="Bar4Transform" ScaleY="0.9"/>
                </Rectangle.RenderTransform>
            </Rectangle>
        </StackPanel>
    </Grid>
</UserControl>
